/*!
 * Lieu v0.1.0 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).lieu=i()}(this,(function(){"use strict";class t{static isObject(t){return"object"==typeof t}static isFunction(t){return"function"==typeof t}static fromJson(t){try{const i=JSON.parse(t);return this.isObject(i)?i:null}catch{return null}}}const i="lieu";return class{#t=!1;#i=!1;#e=null;#n=null;#a=null;#s=null;#g="data-lieu";#u=(t,i)=>{};#l=()=>{};constructor(t){this.#e=t,this.#t=t.isDebug,this.#o()}#o(){this.#r(),this.#c(),this.#h(),this.#L()}#r(){let i=this.#e?.languages;t.isObject(i)||(i=t.fromJson(i)),this.#f(i)}#c(){t.isFunction(this.#e.onSetLang)&&(this.#u=this.#e.onSetLang),t.isFunction(this.#e.onGetLang)&&(this.#l=this.#e.onGetLang)}#h(){const t=this.#e?.attributeName;t&&(this.#g=t)}#f(t){this.#n=t}#L(){const t=window.localStorage?.getItem(i),e=this.#e.initialLanguage;let n;if(t){this.#b(t)&&(n=this.#n[t])}if(!n){const t=this.getBrowserLang().slice(0,2);if(t){this.#b(t)&&(n=this.#n[t])}}if(e&&!n){this.#b(e)&&(n=e)}else n=Object.keys(this.#n)[0];this.#s=n,this.setLang(n)}#b(t){return Object.keys(this.#n).find((i=>i===t))}setLang(t){const e=this.#n[t],n=this.#a;e?(this.#a=e,window.localStorage?.setItem(i,t),this.#d(),this.#i?this.#u(n,e):this.#i=!0):this.#t&&console.error(`Lieu | Language key "${t}" not found in languages!`)}#d(){const t=Array.from(document.querySelectorAll(`[${this.#g}]`)),{locales:i}=this.#a;t.forEach((t=>{const e=t.getAttribute(this.#g);let n=i[e];n||(n=e,this.#t&&console.warn(`Lieu | ${this.#g} attribute value "${e}" not found in current language!`)),t.innerHTML=n}))}localize(t){const{locales:i}=this.#a;let e=i[t];return e||(e=t,this.#t&&console.error(`Lieu | Locale key "${t}" not found in current language!`)),e}__(t){return this.localize(t)}getBrowserLang(){return navigator?.language}getLang(t){return this.#l(),t?this.#n[t]:this.#a}getLangs(){return this.#n}getInitialLang(){return this.#s}}}));
//# sourceMappingURL=lieu.min.js.map
