/*!
 * Lieu v0.1.0 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).lieu=i()}(this,(function(){"use strict";class t{static isObject(t){return"object"==typeof t}static isFunction(t){return"function"==typeof t}static fromJson(t){try{const i=JSON.parse(t);return this.isObject(i)?i:null}catch{return null}}}const i="lieu";return class{#t=!1;#i=!1;#e=null;#n=null;#a=null;#s=null;#u="data-lieu";#g=(t,i)=>{};#l=()=>{};constructor(t){this.#e=t,this.#t=t.isDebug,this.#o()}#o(){this.#r(),this.#c(),this.#h(),this.#L()}#r(){let i=this.#e?.languages;t.isObject(i)||(i=t.fromJson(i)),this.#f(i)}#c(){t.isFunction(this.#e.onSetLang)&&(this.#g=this.#e.onSetLang),t.isFunction(this.#e.onGetLang)&&(this.#l=this.#e.onGetLang)}#h(){const t=this.#e?.attributeName;t&&(this.#u=t)}#f(t){this.#n=t}#L(){const t=window.localStorage?.getItem(i),e=Object.keys(this.#n),n=this.#e.initialLanguage;let a;if(t){e.find((i=>i===t))&&(a=this.#n[t])}if(n&&!a){e.find((t=>t===n))&&(a=n)}else a=e[0];this.#s=a,this.setLang(a)}setLang(t){const e=this.#n[t],n=this.#a;e?(this.#a=e,window.localStorage?.setItem(i,t),this.#b(),this.#i?this.#g(n,e):this.#i=!0):this.#t&&console.error(`Lieu | Language key "${t}" not found in languages!`)}#b(){const t=Array.from(document.querySelectorAll(`[${this.#u}]`)),{locales:i}=this.#a;t.forEach((t=>{const e=t.getAttribute(this.#u);let n=i[e];n||(n=e,this.#t&&console.warn(`Lieu | ${this.#u} attribute value "${e}" not found in current language!`)),t.innerHTML=n}))}localize(t){const{locales:i}=this.#a;let e=i[t];return e||(e=t,this.#t&&console.error(`Lieu | Locale key "${t}" not found in current language!`)),e}__(t){return this.localize(t)}getBrowserLang(){return navigator?.language}getLang(t){return this.#l(),t?this.#n[t]:this.#a}getLangs(){return this.#n}getInitialLang(){return this.#s}}}));
//# sourceMappingURL=lieu.min.js.map
