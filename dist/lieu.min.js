/*!
 * Lieu v1.0.0 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lieu=e()}(this,(function(){"use strict";const t=t=>"object"==typeof t,e=t=>"function"==typeof t,a=t=>{try{const e=JSON.parse(t);return"object"==typeof e?e:null}catch{return null}},i=()=>navigator.language.slice(0,2),n=(t,e)=>-1!==Object.keys(e).indexOf(t),s="lieu",g=/%\{(.*?)\}/g;return class{#t=!1;#e=null;#a=null;#i=null;#n;#s=g;#g=(t,e)=>{};#u=()=>{};constructor(t){this.#e=t,this.#t=t.isDebug,this.#l()}#l(){this.#o(),this.#r(),this.#h(),this.#c()}#o(){let e=this.#e.languages;t(e)||(e=a(e)),this.#a=e}#c(){e(this.#e.onSetLang)&&(this.#g=this.#e.onSetLang),e(this.#e.onGetLang)&&(this.#u=this.#e.onGetLang)}#r(){this.#n=this.#e.attributeName??"data-lieu"}#h(){const t=this.#e.initialLanguage,e=localStorage.getItem(s)??this.#e.initialLanguage??i();n(e,this.#a)?this.setLang(e):n(t,this.#a)?this.setLang(t):this.setLang(Object.keys(this.#a)[0])}setLang(t){const e=this.#a[t],a=this.#i;n(t,this.#a)?(this.#i=e,localStorage.setItem(s,t),this.#L(),this.#g(a,e)):console.error(`Lieu | Language key "${t}" not found in languages!`)}#L(){Array.from(document.querySelectorAll(`[${this.#n}]`)).forEach((t=>{const e=t.getAttribute(this.#n);t.innerHTML=this.localize(e)}))}localize(t,e){const{locales:a}=this.#i;let i=a[t];return i||(i=t,this.#t&&console.warn(`Lieu | Locale key "${t}" not found in current language!`)),e&&(i=i.replace(this.#s,((t,a)=>e[a]||t))),i}getLang(t){return this.#u(),t?n(t,this.#a)?this.#a[t]:void console.error(`Lieu | Language key "${t}" not found in languages!`):this.#i}getLangs(){return this.#a}}}));
//# sourceMappingURL=lieu.min.js.map
