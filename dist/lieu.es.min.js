/*!
 * Lieu v0.1.0 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
class t{static isObject(t){return"object"==typeof t}static isFunction(t){return"function"==typeof t}static fromJson(t){try{const i=JSON.parse(t);return this.isObject(i)?i:null}catch{return null}}}class i{#t=!1;#i=!1;#e=null;#a=null;#n=null;#s=null;#g="data-lieu";#u=(t,i)=>{};#l=()=>{};constructor(t){this.#e=t,this.#t=t.isDebug,this.#r()}#r(){this.#o(),this.#h(),this.#c(),this.#L()}#o(){let i=this.#e?.languages;t.isObject(i)||(i=t.fromJson(i)),this.#b(i)}#h(){t.isFunction(this.#e.onSetLang)&&(this.#u=this.#e.onSetLang),t.isFunction(this.#e.onGetLang)&&(this.#l=this.#e.onGetLang)}#c(){const t=this.#e?.attributeName;t&&(this.#g=t)}#b(t){this.#a=t}#L(){const t=window.localStorage?.getItem("lieu"),i=this.#e.initialLanguage;let e;if(t){this.#m(t)&&(e=this.#a[t])}if(!e){const t=this.getBrowserLang().slice(0,2);if(t){this.#m(t)&&(e=this.#a[t])}}if(i&&!e){this.#m(i)&&(e=i)}else e=Object.keys(this.#a)[0];this.#s=e,this.setLang(e)}#m(t){return Object.keys(this.#a).find((i=>i===t))}setLang(t){const i=this.#a[t],e=this.#n;i?(this.#n=i,window.localStorage?.setItem("lieu",t),this.#D(),this.#i?this.#u(e,i):this.#i=!0):this.#t&&console.error(`Lieu | Language key "${t}" not found in languages!`)}#D(){const t=Array.from(document.querySelectorAll(`[${this.#g}]`)),{locales:i}=this.#n;t.forEach((t=>{const e=t.getAttribute(this.#g);let a=i[e];a||(a=e,this.#t&&console.warn(`Lieu | ${this.#g} attribute value "${e}" not found in current language!`)),t.innerHTML=a}))}localize(t){const{locales:i}=this.#n;let e=i[t];return e||(e=t,this.#t&&console.error(`Lieu | Locale key "${t}" not found in current language!`)),e}__(t){return this.localize(t)}getBrowserLang(){return navigator?.language}getLang(t){return this.#l(),t?this.#a[t]:this.#n}getLangs(){return this.#a}getInitialLang(){return this.#s}}export{i as default};
//# sourceMappingURL=lieu.es.min.js.map
