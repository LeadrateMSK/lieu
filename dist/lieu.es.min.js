/*!
 * Lieu v1.0.0 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
const t=t=>"object"==typeof t,a=t=>"function"==typeof t,e=t=>{try{const a=JSON.parse(t);return"object"==typeof a?a:null}catch{return null}},i=()=>navigator.language.slice(0,2),n=(t,a)=>-1!==Object.keys(a).indexOf(t),s=/%\{(.*?)\}/g;class g{#t=!1;#a=null;#e=null;#i=null;#n;#s=s;#g=(t,a)=>{};#l=()=>{};constructor(t){this.#a=t,this.#t=t.isDebug,this.#u()}#u(){this.#o(),this.#r(),this.#h(),this.#c()}#o(){let a=this.#a.languages;t(a)||(a=e(a)),this.#e=a}#c(){a(this.#a.onSetLang)&&(this.#g=this.#a.onSetLang),a(this.#a.onGetLang)&&(this.#l=this.#a.onGetLang)}#r(){this.#n=this.#a.attributeName??"data-lieu"}#h(){const t=this.#a.initialLanguage,a=localStorage.getItem("lieu")??this.#a.initialLanguage??i();n(a,this.#e)?this.setLang(a):n(t,this.#e)?this.setLang(t):this.setLang(Object.keys(this.#e)[0])}setLang(t){const a=this.#e[t],e=this.#i;n(t,this.#e)?(this.#i=a,localStorage.setItem("lieu",t),this.#L(),this.#g(e,a)):console.error(`Lieu | Language key "${t}" not found in languages!`)}#L(){Array.from(document.querySelectorAll(`[${this.#n}]`)).forEach((t=>{const a=t.getAttribute(this.#n);t.innerHTML=this.localize(a)}))}localize(t,a){const{locales:e}=this.#i;let i=e[t];return i||(i=t,this.#t&&console.warn(`Lieu | Locale key "${t}" not found in current language!`)),a&&(i=i.replace(this.#s,((t,e)=>a[e]||t))),i}getLang(t){return this.#l(),t?n(t,this.#e)?this.#e[t]:void console.error(`Lieu | Language key "${t}" not found in languages!`):this.#i}getLangs(){return this.#e}}export{g as default};
//# sourceMappingURL=lieu.es.min.js.map
