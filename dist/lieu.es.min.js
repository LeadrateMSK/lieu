/*!
 * Lieu v0.0.1 (https://github.com/LeadrateMSK/lieu#readme)
 * Copyright 2022 LeadrateMSK <web@leadrate.pro>
 * Licensed under MIT (https://github.com/LeadrateMSK/lieu/blob/master/LICENSE)
 */
class t{static isObject(t){return"object"==typeof t}static fromJson(t){try{const a=JSON.parse(t);return this.isObject(a)?a:null}catch{return null}}}class a{initialData;languages=null;initialLanguage=null;currentLanguage=null;attributeName="data-localize";onSetLang=(t,a)=>{};onGetLang=()=>{};constructor(t){this.initialData=t,this.initLieu()}initLieu(){this.initLanguages(),this.setHooks(),this.setAttributeName(),this.setInitialLanguage()}initLanguages(){let a=this.initialData?.languages;t.isObject(a)||(a=t.fromJson(a)),this.setLanguages(a)}setHooks(){"function"==typeof this.initialData.onSetLang&&(this.onSetLang=this.initialData.onSetLang),"function"==typeof this.initialData.onGetLang&&(this.onGetLang=this.initialData.onGetLang)}setAttributeName(){const t=this.initialData?.attributeName;t&&(this.attributeName=t)}setLanguages(t){this.languages=t}setInitialLanguage(){const t=Object.keys(this.languages),a=this.initialData.initialLanguage;if(a){for(let e=0;e<t.length;e++)if(a.includes(t[e])){this.initialLanguage=this.languages[t[e]],this.setLang(a);break}}else this.setInitialLanguageAuto()}setInitialLanguageAuto(){const t=window.localStorage?.getItem("language"),a=Object.keys(this.languages);let e=a[0];if(t)for(let i=0;i<a.length;i++)if(a[i]===t){e=t;break}this.initialLanguage=this.languages[e],this.setLang(e)}setLang(t){const a=this.currentLanguage;this.currentLanguage=this.languages[t],window.localStorage?.setItem("language",t),this.localizeDomElems(),this.onSetLang(a,this.currentLanguage)}localizeDomElems(){const t=Array.from(document.querySelectorAll(`[${this.attributeName}]`)),{locales:a}=this.currentLanguage;t.forEach((t=>{const e=t.getAttribute(this.attributeName),i=a[e];t.innerHTML=i}))}localize(t){const{locales:a}=this.currentLanguage;return a[t]}__(t){return this.localize(t)}getBrowserLang(){return navigator?.language}getLang(t){return this.onGetLang(),t?this.languages[t]:this.currentLanguage}getLangs(){return this.languages}}export{a as default};
//# sourceMappingURL=lieu.es.min.js.map
